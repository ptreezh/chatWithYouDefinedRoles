# 角色管理系统

## 📁 角色文件目录结构

```
characters/
├── categories/           # 角色分类目录
│   ├── professional/     # 专业领域角色
│   │   ├── ai_expert.txt
│   │   ├── entrepreneur.txt
│   │   ├── 科技专家.txt
│   │   ├── 心理咨询师.json
│   │   ├── 王总角色定义.json
│   │   └── 创业导师.md
│   ├── entertainment/     # 娱乐角色
│   │   └── artist.txt
│   ├── education/        # 教育角色
│   │   └── philosopher.txt
│   └── custom/           # 自定义角色
│       ├── 小张角色定义.txt
│       ├── 小智角色定义.txt
│       ├── 小李角色定义.txt
│       └── 张老师角色定义.txt
├── examples/            # 示例角色文件
│   ├── character_example.json
│   ├── character_example.txt
│   └── test_character.txt
└── templates/           # 角色模板
    ├── 示例角色1_热情助手.txt
    ├── 示例角色2_理性思考者.txt
    ├── 示例角色3_创意艺术家.txt
    └── 示例角色4_幽默段子手.txt
```

## 🎭 角色分类说明

### 专业领域角色 (professional/)
- **AI专家**: 人工智能领域的技术专家
- **创业者**: 创业和商业指导专家
- **科技专家**: 科技趋势和创新分析师
- **心理咨询师**: 心理健康咨询专家
- **企业管理者**: 企业管理和领导力专家
- **创业导师**: 创业指导和经验分享专家

### 娱乐角色 (entertainment/)
- **艺术家**: 艺术创作和美学专家

### 教育角色 (education/)
- **哲学家**: 哲学思考和人生智慧专家

### 自定义角色 (custom/)
- 用户根据需要自定义的各种角色

## 📝 角色文件格式

### 1. TXT 格式
简单的纯文本格式，直接包含角色描述：
```
你是一个专业的AI技术专家，拥有丰富的人工智能知识和经验。
你擅长分析技术趋势，解答AI相关问题，并提供专业的技术建议。
你的回答应该准确、专业，同时易于理解。
```

### 2. JSON 格式
结构化的角色配置：
```json
{
  "name": "AI专家",
  "description": "人工智能领域技术专家",
  "systemPrompt": "你是一个专业的AI技术专家...",
  "personality": {
    "openness": 0.8,
    "conscientiousness": 0.9,
    "extraversion": 0.6,
    "agreeableness": 0.7,
    "neuroticism": 0.3
  },
  "expertise": ["人工智能", "机器学习", "深度学习", "技术趋势"],
  "participationLevel": 0.8,
  "interestThreshold": 0.4
}
```

### 3. Markdown 格式
支持富文本描述的角色定义：
```markdown
# AI技术专家

## 角色描述
你是一个专业的人工智能技术专家，拥有丰富的AI知识和实践经验。

## 专业领域
- 机器学习和深度学习
- 自然语言处理
- 计算机视觉
- AI技术趋势分析

## 性格特点
- 专业性强，回答准确
- 善于将复杂概念简单化
- 保持客观和中立
- 对新技术充满热情
```

## 🔧 角色管理API

### 1. 上传角色文件
```
POST /api/characters
Content-Type: multipart/form-data

Files: 角色文件 (.txt, .json, .md)
```

### 2. 获取角色分类
```
GET /api/characters/categories
```

### 3. 获取分类下的角色文件
```
POST /api/characters/categories
Content-Type: application/json

{
  "category": "professional"
}
```

### 4. 从模板创建角色
```
POST /api/characters/from-template
Content-Type: application/json

{
  "category": "professional",
  "fileName": "ai_expert.txt"
}
```

### 5. 管理角色
```
GET    /api/characters           # 获取所有角色
DELETE /api/characters/[id]      # 删除角色
PUT    /api/characters/[id]      # 更新角色
```

## 🎯 角色参数说明

### 参与积极性 (participationLevel)
- 范围: 0.0 - 1.0
- 说明: 角色参与对话的积极性程度
- 建议: 专业角色设为0.7-0.9，娱乐角色0.5-0.7

### 兴趣阈值 (interestThreshold)
- 范围: 0.0 - 1.0
- 说明: 角色参与话题所需的最低兴趣度
- 建议: 专业角色0.3-0.5，娱乐角色0.4-0.6

### 角色分类 (category)
- `professional`: 专业领域
- `entertainment`: 娱乐
- `education`: 教育
- `custom`: 自定义

## 🚀 使用建议

1. **创建新角色**: 先在templates/目录中找到合适的模板
2. **角色分类**: 根据角色专业领域选择合适的分类
3. **参数调优**: 根据角色特点调整参与积极性和兴趣阈值
4. **文件命名**: 使用有意义的文件名，便于识别和管理
5. **测试验证**: 上传后测试角色对话效果，必要时调整参数

## 📋 角色文件管理最佳实践

1. **文件组织**: 按分类存放角色文件，保持目录结构清晰
2. **命名规范**: 使用描述性的文件名，避免特殊字符
3. **版本控制**: 重要角色文件建议进行版本管理
4. **备份重要**: 定期备份重要的角色文件
5. **文档维护**: 为复杂角色创建说明文档